
<div class="row animated fadeIn fast">
  <div class="col-12">
      <div class="card">
          <div class="card-body">
              
              <!-- <input type="text"
                      class="form-control"
                      placeholder="Buscar Usuario"
                      #txtTermino
                      (keyup)="buscar(txtTermino.value)"

              /> -->
          
          </div>
      </div>
  </div>
</div>


<div class="row animated fadeIn fast">
  <div class="col-12">
     
      <div class="alert alert-info text-center"
      *ngIf="cargando">

          <h4 class="alert-heading">Cargando</h4>
          <i class="fa fa-spin fa-refresh fa-2x"></i>
          <p class="mb-0">Por favor espere</p>

      </div>

  </div>
</div>

<div 
    *ngIf="!cargando"    
>

<h1 class="mt-3" >Notas de estudiantes</h1>
<hr>

<div *ngIf="cread">

  <div *ngIf="aprobado==true" class="alert alert-success">
   <a class="alert-link" >Curso aprobado</a>
  </div>

  <div *ngIf="aprobado==false" class="alert alert-danger">
    <a class="alert-link">Curso no aprobado</a>
  </div>       
</div>
<hr>
<form [formGroup]="myForm" (ngSubmit)="guardarNota() ">

  <!-- Region -->
  <div class="row mb-3">
    <div class="col">
      <label class="form-label">Periodo:</label>
    <div class="alert alert-primary d-flex align-items-center" role="alert">
    <strong>{{periodoSeleccionado?.anio + ' - '+periodoSeleccionado?.mes +' - '+periodoSeleccionado?.curso?.nombre + ' - '+periodoSeleccionado?.modulos+' m√≥dulos'}}</strong>   
    </div>
    </div>
  </div>


  <div class="row mb-3" >
    <div class="col">
      <label class="form-label">Estudiante:</label>   

      <div class="">

        <select class="form-control"  formControlName="estudiante" (ngModelChange)="onPeriodoChanged()" >
          <option value="">Seleccione Estudiante</option>
          <option *ngFor="let item of lista" value={{item._id}}>{{item.usuario?.nombre+' '+item.usuario?.apellido}}</option>
        </select>

      </div>

      <!-- <div class="alert alert-primary d-flex align-items-center" role="alert"> -->
        <!-- <strong>{{notaSeleccionada?.estudiante?.nombre + ' ' + notaSeleccionada?.estudiante?.apellido}}</strong>    -->
        <!-- </div> -->
      
    </div>
  </div>

  


   
 <div formArrayName="modulos" class=" mb-3 "
  >
  
  
  <div *ngFor="let alias of modulo.controls; let i=index">
    <label>
      <strong>
        
        {{"Pago "+(i+1)}} 
      </strong>
      <input  type="number" class="form-control" [formControlName]="i" max="10" min="0">

      <!-- <div class="alert alert-primary d-flex align-items-center" role="alert">
        <strong>{{alias}}</strong>   
      </div> -->
    </label>
  </div>
</div>

<!-- <div 
formArrayName="modulos" class=" mb-3 "

> -->

  
  <!-- <div *ngFor="let alias of notaSeleccionada?.modulos; let i=index"> -->
  <!-- <div *ngFor="let alias of estudiante?.modulos; let i=index">
    <label>
      <strong>

        {{"Modulo "+(i+1)}} 
      </strong>

      <input class="form-control" type="text" value={{alias}} >

      
    </label>
  </div>
</div> -->


<button type="submit" class="btn btn-primary" [disabled]="myForm.invalid">Guardar</button>
</form>



</div>